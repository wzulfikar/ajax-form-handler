!function(e){"use strict";var r=function(r){r.preventDefault();var t=e(this),a=t.find("[required]"),n=t.data("ajax-id"),i=!1,o={error:"ajax."+n+".error",success:"ajax."+n+".success",always:"ajax."+n+".always",beforeSend:"ajax."+n+".beforeSend"},s=t.find('[data-toggle-processing="true"]'),c=s.text(),d={abort:function(e){e.abort(),t.fn.processing.hide()},redirect:function(e){window.location.replace(e)},processing:{show:function(){s.text("Processing request..").attr("disabled","disabled")},hide:function(){s.text(c).removeAttr("disabled")}},alert:{success:function(e){alert(e)},error:function(e){alert(e)}}};t.fn=e.extend({},d,e.fn.ajaxFormHandler.fns),a.each(function(){return e(this).val().trim().length?void 0:(t.fn.alert.error(e(this).attr("name")+" can't be empty."),e(this).focus(),void(i=!0))}),i||e.ajax({method:t.attr("method"),url:t.attr("action"),data:t.serialize(),beforeSend:function(e){t.fn.processing.show();var r=t.serializeArray();t.trigger(o.beforeSend,[e,t,r])},success:function(e,r,a){t.trigger(o.success,[t,e]),t.fn.processing.hide()},error:function(e,r,a){var n="Error "+e.status+" : "+a+".";t.fn.alert.error(n),t.trigger(o.error,[t,e]),t.fn.processing.hide()}})};e.fn.ajaxFormHandler=function(){e("form[data-ajax-id]").on("submit",r)},e.fn.ajaxFormHandler()}(jQuery);